<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>ðŸ˜± Straszak</title>
  <style>
    html, body {
      margin: 0; padding: 0;
      background: black;
      height: 100%;
      overflow: hidden;
      position: relative;
    }

    #jumpscare, #bloodDrip, #bloodSplatter {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: none;
      z-index: 1;
      pointer-events: none;
    }

    #bloodDrip {
      top: -100%;
      animation: dripAnim 3s ease-in forwards;
      z-index: 2;
    }

    @keyframes dripAnim {
      0%   { top: -100%; opacity: 0.3; transform: scaleY(1); }
      50%  { top: 0%;    opacity: 0.7; transform: scaleY(1.05); }
      100% { top: 20%;   opacity: 1;   transform: scaleY(1.2); }
    }

    #glitch {
      display: none;
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: repeating-linear-gradient(
        0deg,
        rgba(255, 0, 0, 0.1),
        rgba(0, 0, 0, 0.1) 1px
      );
      z-index: 3;
      animation: glitchEffect 0.3s steps(2, start) infinite;
      pointer-events: none;
    }

    @keyframes glitchEffect {
      0%   { opacity: 0.3; transform: translate(0, 0); }
      20%  { transform: translate(-5px, 5px); }
      40%  { transform: translate(5px, -5px); }
      60%  { transform: translate(-2px, 2px); }
      80%  { transform: translate(2px, -2px); }
      100% { opacity: 0.4; transform: translate(0, 0); }
    }

    #flash {
      display: none;
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: white;
      z-index: 4;
      opacity: 0;
      animation: flashAnim 0.15s ease-in-out 4;
      pointer-events: none;
    }

    @keyframes flashAnim {
      0% { opacity: 0; }
      50% { opacity: 1; }
      100% { opacity: 0; }
    }

    /* Animacja rozbryzgu krwi */
    #bloodSplatter {
      animation: splatterAnim 2s forwards;
      z-index: 5;
    }

    @keyframes splatterAnim {
      0% {
        opacity: 0;
        transform: scale(0.5) rotate(0deg);
      }
      50% {
        opacity: 1;
        transform: scale(1.1) rotate(15deg);
      }
      100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
      }
    }
  </style>
</head>
<body>

  <img id="jumpscare" src="zdjÄ™cia/jumpscare.jpg" alt="BOO!" />
  <img id="bloodDrip" src="zdjÄ™cia/blood-drip.png" alt="SpÅ‚ywajÄ…ca krew" />
  <img id="bloodSplatter" src="zdjÄ™cia/blood.png" alt="Rozbryzg krwi" />
  <div id="glitch"></div>
  <div id="flash"></div>

  <audio id="screamSound">
    <source src="audio/krzyk.mp3" type="audio/mpeg" />
  </audio>

  <audio id="dripSound">
    <source src="audio/drip.mp3" type="audio/mpeg" />
  </audio>

  <!-- zamieniony trzask na strzaÅ‚ -->
  <audio id="shootSound">
    <source src="audio/shoot.mp3" type="audio/mpeg" />
  </audio>

  <script>
    async function enterFullScreen() {
      const el = document.documentElement;
      if (el.requestFullscreen) await el.requestFullscreen();
      else if (el.webkitRequestFullscreen) await el.webkitRequestFullscreen();
      else if (el.msRequestFullscreen) await el.msRequestFullscreen();
    }

    document.addEventListener("DOMContentLoaded", async () => {
      await enterFullScreen();

      setTimeout(() => {
        const jumpscare = document.getElementById('jumpscare');
        const bloodDrip = document.getElementById('bloodDrip');
        const bloodSplatter = document.getElementById('bloodSplatter');
        const glitch = document.getElementById('glitch');
        const flash = document.getElementById('flash');
        const scream = document.getElementById('screamSound');
        const drip = document.getElementById('dripSound');
        const shoot = document.getElementById('shootSound');

        jumpscare.style.display = 'block';
        bloodDrip.style.display = 'block';
        glitch.style.display = 'block';
        flash.style.display = 'block';

        scream.play();
        drip.play();

        setTimeout(() => {
          glitch.style.display = 'none';
        }, 5000);

        scream.onended = () => {
          shoot.play();
        };

        shoot.onended = () => {
          bloodSplatter.style.display = 'block';
        };

        setTimeout(() => {
          window.location.href = "index.html";
        }, 9000);

      }, 1500);
    });
  </script>
</body>
</html>
