<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ˜± Prank</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      overflow: hidden;
      background: black;
      color: white;
      font-family: Arial, sans-serif;
      user-select: none;
    }

    body {
      background-image: url('zdjÄ™cia/ekran.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      animation: shake 0.4s ease-in-out infinite;
      height: 100vh;
      width: 100vw;
      position: relative;
    }

    @keyframes shake {
      0% { transform: translate(0, 0); }
      20% { transform: translate(-10px, 5px); }
      40% { transform: translate(10px, -5px); }
      60% { transform: translate(-8px, 8px); }
      80% { transform: translate(8px, -8px); }
      100% { transform: translate(0, 0); }
    }

    #f11-message {
      position: fixed;
      bottom: 15px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.7);
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 1.2em;
      display: none;
      pointer-events: none;
      z-index: 9999;
    }
  </style>
</head>
<body>

  <audio id="glassSound" autoplay>
    <source src="audio/glass.mp3" type="audio/mpeg" />
    Twoja przeglÄ…darka nie obsÅ‚uguje audio.
  </audio>

  <div id="f11-message">JeÅ›li peÅ‚ny ekran siÄ™ nie wÅ‚Ä…czyÅ‚, wciÅ›nij F11</div>

  <script>
    function goFullScreen() {
      const el = document.documentElement;
      if (el.requestFullscreen) {
        el.requestFullscreen().catch(() => {
          showF11Message();
        });
      } else if (el.webkitRequestFullscreen) {
        el.webkitRequestFullscreen().catch(() => {
          showF11Message();
        });
      } else if (el.msRequestFullscreen) {
        el.msRequestFullscreen().catch(() => {
          showF11Message();
        });
      } else {
        // Brak wsparcia fullscreen
        showF11Message();
      }
    }

    function showF11Message() {
      const msg = document.getElementById('f11-message');
      msg.style.display = 'block';
    }

    function endPrank() {
      if (document.exitFullscreen) document.exitFullscreen();
      else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
      else if (document.msExitFullscreen) document.msExitFullscreen();

      window.location.href = "index.html";
    }

    window.onload = () => {
      goFullScreen();

      const sound = document.getElementById('glassSound');
      sound.play().catch(() => {
        // jeÅ›li autoplay zablokowany, odtwÃ³rz po klikniÄ™ciu
        document.body.addEventListener('click', () => sound.play(), { once: true });
      });

      alert("rozwaliÅ‚eÅ› ekran");

      setTimeout(() => {
        endPrank();
      }, 5000);
    };

    // Dodatkowo obsÅ‚uga bÅ‚Ä™du fullscreen (np. user anulowaÅ‚)
    document.addEventListener('fullscreenerror', showF11Message);
    document.addEventListener('webkitfullscreenerror', showF11Message);
    document.addEventListener('msfullscreenerror', showF11Message);
  </script>

</body>
</html>
